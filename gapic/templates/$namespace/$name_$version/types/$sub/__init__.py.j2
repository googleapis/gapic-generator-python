{% extends "_base.py.j2" %}

{% block content %}
{# Import subpackages. -#}
{% for subpackage in api.subpackages.keys() -%}
from . import {{ subpackage }}
{% endfor -%}

{#  Import messages from each proto.
    It is safe to import all of the messages into the same namespace here,
    because protocol buffers itself enforces selector uniqueness within
    a proto package.
-#}
{% for proto in api.protos.values()|sort(attribute='module_name')
        if proto.meta.address.subpackage == api.subpackage_view -%}
{% for message in proto.top.messages.values()|sort(attribute='name') -%}
from .{{ proto.module_name }} import {{ message.name }}
{% endfor %}{% endfor %}


__all__ = (
    {%- for subpackage in api.subpackages.keys() %}
    '{{ subpackage }}',
    {%- endfor %}
    {%- for proto in api.protos.values()|sort(attribute='module_name')
            if proto.meta.address.subpackage == api.subpackage_view %}
    {%- for message in proto.top.messages.values()|sort(attribute='name') %}
    '{{ message.name }}',
    {%- endfor %}{% endfor %}
)
{%- endblock %}

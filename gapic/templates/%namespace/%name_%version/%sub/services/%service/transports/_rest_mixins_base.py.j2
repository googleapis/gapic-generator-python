    {% if "rest" in opts.transport %}

    {% for name, sig in api.mixin_api_signatures.items() %}
    class _Base{{ name }}:
        {% if sig.response_type != 'None' %}
        
        @staticmethod
        def _get_http_options():
            http_options: List[Dict[str, str]] = [
            {%- for rule in api.mixin_http_options["{}".format(name)] %}{
                'method': '{{ rule.method }}',
                'uri': '{{ rule.uri }}',
                {% if rule.body %}
                'body': '{{ rule.body }}',
                {% endif %}{# rule.body #}
            },
            {% endfor %}
            ]
            return http_options

        @staticmethod
        def _get_transcoded_request(http_options, request):
            request_kwargs = json_format.MessageToDict(request)
            transcoded_request = path_template.transcode(
                http_options, **request_kwargs)
            return transcoded_request
        
        {% set body_spec = api.mixin_http_options["{}".format(name)][0].body %}
        {%- if body_spec %}
        @staticmethod
        def _get_request_body_json(transcoded_request):
            body = json.dumps(transcoded_request['body'])
            return body
        {%- endif %} {# body_spec #}
        {% endif %} {# sig.response_type != 'None' #}

    {% endfor %}
    {% endif %} {# rest in opts.transport #}
